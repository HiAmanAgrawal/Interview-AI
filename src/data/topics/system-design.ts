import { TopicConfig } from "./types";

export const systemDesignTopic: TopicConfig = {
  id: "system-design",
  name: "System Design",
  shortName: "System Design",
  description: "Scalable system architecture, distributed systems, and design patterns",
  icon: "üèóÔ∏è",
  color: "from-purple-500 to-indigo-500",
  
  subtopics: [
    {
      id: "sd-fundamentals",
      name: "Design Fundamentals",
      description: "Core system design concepts",
      difficulty: "easy",
      preferredFormats: ["theory", "mcq"],
      keyConcepts: [
        "Scalability (vertical vs horizontal)",
        "Latency vs throughput",
        "Availability vs consistency",
        "CAP theorem",
        "Load balancing",
        "Caching basics",
      ],
    },
    {
      id: "sd-databases",
      name: "Database Design",
      description: "Database selection and design",
      difficulty: "medium",
      preferredFormats: ["theory", "whiteboard"],
      keyConcepts: [
        "SQL vs NoSQL",
        "Database sharding",
        "Replication strategies",
        "Partitioning",
        "Denormalization",
        "Data modeling",
      ],
    },
    {
      id: "sd-caching",
      name: "Caching Strategies",
      description: "Caching mechanisms and patterns",
      difficulty: "medium",
      preferredFormats: ["theory", "mcq"],
      keyConcepts: [
        "Cache types (CDN, application, database)",
        "Cache invalidation strategies",
        "Write-through vs write-back",
        "Redis/Memcached",
        "Cache eviction policies",
        "Distributed caching",
      ],
    },
    {
      id: "sd-messaging",
      name: "Message Queues",
      description: "Asynchronous communication",
      difficulty: "medium",
      preferredFormats: ["theory", "whiteboard"],
      keyConcepts: [
        "Message brokers (Kafka, RabbitMQ)",
        "Pub/Sub pattern",
        "Event-driven architecture",
        "Message ordering",
        "Dead letter queues",
        "Backpressure handling",
      ],
    },
    {
      id: "sd-microservices",
      name: "Microservices",
      description: "Microservices architecture patterns",
      difficulty: "hard",
      preferredFormats: ["theory", "whiteboard"],
      keyConcepts: [
        "Microservices vs monolith",
        "Service discovery",
        "API Gateway",
        "Circuit breaker pattern",
        "Saga pattern",
        "Service mesh",
      ],
    },
    {
      id: "sd-load-balancing",
      name: "Load Balancing",
      description: "Traffic distribution strategies",
      difficulty: "medium",
      preferredFormats: ["theory", "mcq"],
      keyConcepts: [
        "L4 vs L7 load balancing",
        "Round-robin",
        "Least connections",
        "Consistent hashing",
        "Health checks",
        "SSL termination",
      ],
    },
    {
      id: "sd-storage",
      name: "Storage Systems",
      description: "Data storage architectures",
      difficulty: "medium",
      preferredFormats: ["theory", "whiteboard"],
      keyConcepts: [
        "Block vs object vs file storage",
        "HDFS",
        "S3 and object storage",
        "Content delivery networks",
        "Data replication",
        "Backup strategies",
      ],
    },
    {
      id: "sd-common-systems",
      name: "Common System Designs",
      description: "Designing popular systems",
      difficulty: "hard",
      preferredFormats: ["whiteboard", "theory"],
      keyConcepts: [
        "URL shortener",
        "Twitter timeline",
        "Chat application",
        "Notification system",
        "Rate limiter",
        "Distributed cache",
        "Search autocomplete",
      ],
      samplePrompts: [
        "Design a URL shortening service like bit.ly",
        "Design Twitter's news feed system",
        "Design a real-time chat application",
        "Design a notification system for a large-scale app",
      ],
    },
    {
      id: "sd-reliability",
      name: "Reliability & Fault Tolerance",
      description: "Building resilient systems",
      difficulty: "hard",
      preferredFormats: ["theory", "mcq"],
      keyConcepts: [
        "Fault tolerance",
        "Disaster recovery",
        "Redundancy",
        "Failover strategies",
        "Health monitoring",
        "Chaos engineering",
      ],
    },
  ],
  
  defaultFormats: ["whiteboard", "theory", "mcq"],
  
  timePerFormat: {
    mcq: 60,
    theory: 180,
    coding: 600,
    whiteboard: 1200,
    match: 90,
  },
  
  difficultyMix: {
    easy: 15,
    medium: 50,
    hard: 35,
  },
  
  tags: ["architecture", "scalability", "distributed-systems", "backend"],
};
