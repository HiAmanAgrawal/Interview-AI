import { TopicData } from "./types";

export const systemDesignTopic: TopicData = {
  id: "system-design",
  name: "System Design",
  description: "Scalability, Distributed Systems, Architecture Patterns, and Design Principles",
  icon: "üèóÔ∏è",
  color: "from-pink-500 to-rose-500",
  
  mcqQuestions: [
    {
      id: "sd-mcq-1",
      type: "mcq",
      question: "What does CAP theorem state?",
      options: [
        "You can have all three: Consistency, Availability, Partition tolerance",
        "You can only choose two of: Consistency, Availability, Partition tolerance",
        "Caching Always Performs better",
        "Compute, Access, Process are essential",
      ],
      correctAnswer: 1,
      explanation: "CAP theorem states that a distributed system can only guarantee two of: Consistency, Availability, and Partition tolerance.",
      difficulty: "medium",
      tags: ["distributed-systems", "fundamentals"],
    },
    {
      id: "sd-mcq-2",
      type: "mcq",
      question: "What is horizontal scaling?",
      options: [
        "Adding more RAM to a server",
        "Adding more servers to handle load",
        "Upgrading CPU",
        "Adding more storage",
      ],
      correctAnswer: 1,
      explanation: "Horizontal scaling (scaling out) means adding more machines to distribute the load, as opposed to vertical scaling (scaling up) which adds resources to existing machines.",
      difficulty: "easy",
      tags: ["scaling"],
    },
    {
      id: "sd-mcq-3",
      type: "mcq",
      question: "What is the purpose of a load balancer?",
      options: [
        "Store data",
        "Distribute traffic across multiple servers",
        "Encrypt connections",
        "Cache responses",
      ],
      correctAnswer: 1,
      explanation: "A load balancer distributes incoming network traffic across multiple servers to ensure no single server is overwhelmed.",
      difficulty: "easy",
      tags: ["load-balancing"],
    },
    {
      id: "sd-mcq-4",
      type: "mcq",
      question: "What is eventual consistency?",
      options: [
        "Data is always consistent",
        "Data will become consistent over time",
        "Data is never consistent",
        "Consistency is optional",
      ],
      correctAnswer: 1,
      explanation: "Eventual consistency means that given enough time without new updates, all replicas will converge to the same value.",
      difficulty: "medium",
      tags: ["consistency", "distributed-systems"],
    },
    {
      id: "sd-mcq-5",
      type: "mcq",
      question: "What is database sharding?",
      options: [
        "Backing up a database",
        "Splitting data across multiple databases",
        "Encrypting database",
        "Compressing data",
      ],
      correctAnswer: 1,
      explanation: "Sharding is partitioning data across multiple databases to improve performance and handle larger datasets.",
      difficulty: "medium",
      tags: ["database", "scaling"],
    },
  ],
  
  codingQuestions: [],
  
  matchQuestions: [
    {
      id: "sd-match-1",
      type: "match",
      title: "Match Design Patterns with Use Cases",
      leftColumn: [
        { id: "l1", text: "Load Balancer" },
        { id: "l2", text: "CDN" },
        { id: "l3", text: "Message Queue" },
        { id: "l4", text: "Cache" },
        { id: "l5", text: "Database Replica" },
      ],
      rightColumn: [
        { id: "r1", text: "Distribute traffic across servers" },
        { id: "r2", text: "Serve static content globally" },
        { id: "r3", text: "Async communication between services" },
        { id: "r4", text: "Reduce database load" },
        { id: "r5", text: "Improve read performance" },
      ],
      correctMatches: [
        { leftId: "l1", rightId: "r1" },
        { leftId: "l2", rightId: "r2" },
        { leftId: "l3", rightId: "r3" },
        { leftId: "l4", rightId: "r4" },
        { leftId: "l5", rightId: "r5" },
      ],
      difficulty: "medium",
      tags: ["architecture"],
    },
  ],
  
  whiteboardQuestions: [
    {
      id: "sd-wb-1",
      type: "whiteboard",
      title: "Design a URL Shortener",
      question: "Design a URL shortening service like bit.ly. Consider: URL generation, storage, redirection, and analytics.",
      hints: [
        "Use base62 encoding for short URLs",
        "Consider hash collisions",
        "Design for high read:write ratio",
        "Add caching for popular URLs",
      ],
      difficulty: "medium",
      timeLimit: 30,
      tags: ["url-shortener", "design"],
    },
    {
      id: "sd-wb-2",
      type: "whiteboard",
      title: "Design Twitter's Feed",
      question: "Design the architecture for Twitter's home timeline. Handle millions of users and tweets.",
      hints: [
        "Push vs Pull model",
        "Fan-out on read vs write",
        "Celebrity problem",
        "Caching strategy",
      ],
      difficulty: "hard",
      timeLimit: 45,
      tags: ["social-media", "feed"],
    },
    {
      id: "sd-wb-3",
      type: "whiteboard",
      title: "Design a Rate Limiter",
      question: "Design a rate limiter for an API that allows N requests per minute per user.",
      hints: [
        "Token bucket algorithm",
        "Sliding window",
        "Distributed rate limiting",
        "Redis for storage",
      ],
      difficulty: "medium",
      timeLimit: 25,
      tags: ["rate-limiting", "api"],
    },
  ],
};
